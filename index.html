<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Streetle ‚Äì Start</title>

  <!-- Styles -->
  <link rel="stylesheet" href="style.css">

  <!-- Leaflet (wird erst im Spiel gebraucht) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Spiel-Logik -->
  <script src="script.js" defer></script>
</head>

<body class="startscreen">

  <!-- HEADER -->
  <header class="start-header">
    <h1>Streetle</h1>
  </header>

  <!-- STARTSEITE -->
  <main class="start-container">

    <!-- SPIELMODUS -->
    <section class="mode-section">
      <div class="mode-card" id="singleplayer">Singleplayer</div>
      <div class="mode-card" id="multiplayer">Multiplayer</div>
    </section>

    <!-- SCHWIERIGKEIT: Kontext -->
    <section class="toggle-section">
      <h2>Schwierigkeitsgrad</h2>

      <div class="toggle-card">
        <span>Mit Kontext (Stra√üennamen sichtbar)</span>
        <input type="radio" name="contextMode" id="contextOn">
      </div>

      <div class="toggle-card">
        <span>Ohne Kontext (keine Stra√üennamen)</span>
        <input type="radio" name="contextMode" id="contextOff">
      </div>
    </section>

    <!-- STRASSENUMFANG -->
    <section class="toggle-section">
      <h2>Stra√üenumfang</h2>

      <div class="toggle-card">
        <span>Nur gro√üe Stra√üen & Pl√§tze</span>
        <input type="radio" name="streetMode" id="majorStreets">
      </div>

      <div class="toggle-card">
        <span>Alle Stra√üen & Pl√§tze</span>
        <input type="radio" name="streetMode" id="allStreets">
      </div>
    </section>

  </main>

  <!-- SPIELBEREICH (wird erst sichtbar, wenn Singleplayer gestartet wird) -->
  <main id="gameScreen" style="display:none;">

    <header>
      <h1>Streetle</h1>
      <button id="menuToggle">‚ò∞ Men√º</button>
    </header>

    <div id="sideMenu" class="side-menu">
      <h2>Schwierigkeit w√§hlen</h2>
      <label><input type="radio" name="difficulty" value="leicht" checked> üéØ Leicht</label>
      <label><input type="radio" name="difficulty" value="schwer"> üî• Schwer</label>
    </div>

    <div id="game-container">
      <div id="map"></div>

      <div id="controls">
        <button id="newGameButton" onclick="neuesSpiel()">üÜï Neues Spiel starten</button>

        <div id="input-row">
          <button id="tippButton" onclick="zeigeTipp()">üí° Tipp anzeigen</button>

          <div class="input-wrapper">
            <input type="text" id="guessInput" placeholder="Stra√üenname eingeben..." oninput="zeigeVorschlaege(this.value)">
            <span class="clear-btn" onclick="guessInput.value=''; vorschlagBox.innerHTML=''">√ó</span>
            <div id="vorschlagBox" class="dropdown"></div>
          </div>

          <button onclick="neueStrasse()">‚ü≥ Neue Stra√üe</button>
        </div>

        <button id="rateButton" onclick="guess()">Raten</button>
        <p id="feedback"></p>
        <div id="tippBox"></div>
      </div>
    </div>

  </main>

  <script>
    // Umschalten von Startscreen ‚Üí Spielscreen
    document.getElementById("singleplayer").addEventListener("click", () => {
      document.querySelector(".startscreen").style.display = "none";
      document.getElementById("gameScreen").style.display = "block";

      // Einstellungen an script.js √ºbergeben
      window.streetleConfig = {
        context: document.getElementById("contextOn").checked ? "withLabels" : "noLabels",
        streetMode: document.getElementById("majorStreets").checked ? "major" : "all"
      };

      // Spiel starten
      neuesSpiel();
    });
  </script>

</body>
</html>
